---
title: "Why are time series databases relevant for a Conversational AI platform?
"
date: 2022-04-19T14:45:01+01:00
author: Catarina Figueiredo
image : "images/blog/timeseries2022/timeseries.jpg"
bg_image: "images/featue-bg.jpg"
categories: ["Technology"]
tags: ["blog", "share", "conversational-commerce"]
draft: true
type: "post"
---

## What is time series data?
Time series data is present everywhere and typically when 
talking about it we are talking about huge volumes of data. Time series data typically consists of
data points that may represent metrics and other events that are tracked 
and aggregated continuously over a period of time. Every kind of data point that has a timestamp can be considered time series data. 
This could be monitoring data (performance metrics and logs), financial data, health data, temperature data and many other.  

> Time-series data has exploded in popularity, and the value of tracking and analyzing how things change 
> over time has become evident in every industry: DevOps and IT monitoring, industrial manufacturing, 
> financial trading and risk management, sensor data, ad tech, application eventing, smart home systems, 
> autonomous vehicles, and more. [6]

In the domain of conversational eCommerce, the system will interact will multiple users at the same time. 
Each interaction will generate valuable conversational data that can be and should be stored by the system. 
The data will mostly consist of messages sent by the system and by the user. This kind of data is considered 
time series data as each individual message has a chronological sequence of events. 
The amount of conversational data to be stored will be vast and we should guarantee that the storing system 
can perform at scale. 

## What is time series data?
A time series database is purposely built and optimized for collecting, storing, retrieving 
and processing time series data. They are databases designed to work at scale with huge volumes 
of data being added all the time.  Time series databases are optimized to deal will large volume of 
inserts and typically have built-in functions and operations to do time-series data analysis.  

>Time series databases have key architectural design properties that make them very different from other
> databases. These include time-stamp data storage and compression, data lifecycle management, 
> data summarization, ability to handle large time series dependent scans of many records, and time 
> series aware queries. [1]

The trends in the database industry show that time series databases were the fastest growing database category and are gaining more popularity than the other categories of databases for the last two years. [2]

This proves that their usage is becoming increasingly popular and that more and more people are choosing them to store and analyse their time series data. Two of the possibles reasons for this increased popularity are:

1. More and more time series data is being collected, so the need to store it is becoming a growing necessity.

2. Using this type of database may have significant benefits that lead to this type of databases being chosen over the others to store time series data.

![Trends in the database industry.](/images/blog/timeseries2022/trends_databases_2022.jpg#center)
Image extracted from [2].

## Why should we use a time series database to store time series data? What are the benefits?

Storing time series data in time series databases can leverage several benefits both in the short and long term. 
A couple of those benefits are listed below [8] .
* Time series databases are optimized to handle a huge volume of inserts, typically they assume a append-only mode which greatly **improves insert performance**.
* Time series databases can offer **massive scale**, from performance improvements, including higher ingest rates and faster queries at scale.
* Time series databases can offer an **efficient data storage**.
* Time series databases give us the possibility to easily measure how data changes over time and allow **time series data analysis**.
* Time series databases have a small response time which can enable **real-time analytics**.

## Which databases can handle time series data?

Time series data can be stored not only in time series databases but also in several databases categories such as relational and non-relational databases. As referred above, those databases were not specifically developed for time series data storage and therefore are not optimized for time series data storage. Nevertheless they can still be used to store and retrieve this type of data.  

The following table presents a comparison between the four different databases (MongoDB, Cassandra, PostgreSQL and Timescale DB) when handling time series data.  


{{<table "table table-striped table-bordered text-center">}}

| Database Category | Database Name | Database principal features                                                                                                                                                                                                                                                                     | Performance and Scalability                                                                                                                                                                            | Drawbacks                                                                                                                                                                |
|-------------------|:-------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| noSQL             |    MongoDB    | <ul><li>Doesn't have a structured data mode</li><li>Optimized for storing documents</li><li>Can be used to store time series data</li> <li>Uses MongoDB query language </li>                                                                                                                    | <ul><li>It is able to scale</li><li>Good write speed</li></ul>                                                                                                                                         | <ul><li>MongoDB query language differs greatly from SQL query language </li></ul>                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                       |
| noSQL             |   Cassandra   | <ul><li>Distributed columnar database</li><li>Can be used to store time series data</li><li>Uses CQL query language (similar to SQL but less flexible)</li></ul>                                                                                                                                | <ul><li>It is able to scale</li><li>Good write speed</li></ul>                                                                                                                                         | <ul><li>Does not support global indexes</li><li>Does not support joins and sub queries</li><li>CQL complicates workloads that require heavy analytical queries</li></ul> |
| SQL               |  PostgreSQL   | <ul><li>Relational data model</li><li>Optimized for tabular storage of related data in rows and columns</li><li> Uses SQL query language </li></ul>                                                                                                                                             | <ul><li>Does not scale well, users tend to shift to a noSQL database when they hit a certain scale</li><li>The performance can be improved if the database is optimized for time series data</li></ul> | <ul><li>It is optimized to do updates over inserts, so typically it doesn't scale well with time series data</li></ul>                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                       |
| Time series       | Timescale DB  | <ul><li>Optimized for collecting, storing, retrieving and processing time series data</li><li>Constructed on top of PostgreSQL</li><li>It’s relational and time series simultaneously</li><li>Uses SQL query language</li><li>Built-in functions to perform time series data analysis</li></ul> | <ul><li>Has a accelerated performance and is able to scale</li></ul>                                                                                                                                   | <ul><li>Indexes are built on each chunk independently, rather than a global index across all data.</li></ul>                                                             |
----

{{</table>}}






## Why should we use a time series database to store Conversational data?
There are many challenges when working with time series data, one of them, is the massive amount of data that is collected at any given time which is inherent to this type of data.  Another thing to have in mind is what we want to do with the data in the present and in the future. Do we just want to collect and store the data or do we plan to use it for some specific task?  

One must be aware of the full potential of the data and that the way in which data is collected and stored is crucial in order to extract the most profit out of it. Conversational data within the iFETCH project can be used in several different ways, from tracking the progress of conversations and improving them using machine learning to predicting how customer tastes evolve over time and over the conversations. 

The possibility to do advanced analytics in real-time is another area of great interest. In the iFETCH context, enabling real-time analytics can bring several benefits, such as identifying the most popular and least popular products for a specific period. Traditionally this is done in a posterior analysis which is also beneficial for our business. Nevertheless, doing this analysis in real-time, during the high peak season, for example, brings additional importance, as it allows us to understand which products are being seen the most, which products will run out of stock or even monitor each component of the system and understand which one is struggling.  Time series databases support real-time analysis which is a really good and useful feature.

That being said, the database to be chosen should allow real time analytics, and not only should it store the conversation dialogues but also some entities and relations. A small representative schema is provided below.

![Conversational data schema.](/images/blog/timeseries2022/schema.jpg#center)

Traditional relational databases are not prepared to deal with time series data but can be optimized to deal with this type of data. Still, non-relational databases typically scale better and so, they tend to be used to store time series data. That being said, using noSQL databases could also be an option to follow. 

If we plan to just store the data we can use any database we want but it would be a bad idea since we need to guaranteed that in the future the database is able to scale. The scalability and performance of the database should be taking into account.

Benchmarks made by two of the most popular time series databases, InfluxDB and Timescale DB showed that both databases have outperformed Cassandra and MongoDB for time series data in several parameters [3][4][5][6]. Timescale DB benchmark [7] has also proved that Timescale DB outperformed PostgreSQL for time series. Those benchmarks only have leverage that time series databases can achieve higher performance when it comes to query speed, use less disk space and have greater write throughput then the competitors databases. Also, as the databases are prepared for time series data there is no need to do complex implementations to collect, retrieve and analyse the data.

Having in mind all of the arguments presented above we are confident to say that using time series databases to store conversational data is the way to go both in terms of scalability and performance . Also, the complete set of features of time series databases will enable us able to extract the full potential of the data.

## References
[1] “Time Series Database (TSDB) Guide: Influxdb.” InfluxData, March 9, 2022. https://www.influxdata.com/time-series-database/.

[2]“Engines Ranking per Database Model Category.” DB-ENGINES. Accessed April 20, 2022. https://db-engines.com/en/ranking_categories. 

[3]“InfluxDB Outperforms Cassandra by 4.5x.” InfluxData, February 9, 2021. https://www.influxdata.com/resources/benchmarking-influxdb-vs-cassandra-for-time-series-data-metrics-and-management/.   

[4] Churilo, Chris. “InfluxDB Is 2.4x Faster vs. Mongodb for Time Series Workloads.” InfluxData, March 24, 2020. https://www.influxdata.com/blog/influxdb-is-27x-faster-vs-mongodb-for-time-series-workloads/. 

[5] Hampton, Lee. “Benchmarking Cassandra vs. Timescaledb for Time-Series Data.” Timescale Blog. Timescale Blog, November 4, 2020. https://www.timescale.com/blog/time-series-data-cassandra-vs-timescaledb-postgresql-7c2cc50a89ce/. 

[6] Kiefer, Rob. “MongoDB Time-Series - A NoSQL vs. SQL Database Comparison.” Timescale Blog. Timescale Blog, January 7, 2022. https://www.timescale.com/blog/how-to-store-time-series-data-mongodb-vs-timescaledb-postgresql-a73939734016/. 

[7] Kiefer, Rob. “TimescaleDB vs. Postgresql for Time-Series.” Timescale Blog. Timescale Blog, January 14, 2022. https://www.timescale.com/blog/timescaledb-vs-6a696248104e/. 

[8] Kulkarni, Ajay. “What Is Time-Series Data and Why Do I Need A Time-Series Database?” Timescale Blog. Timescale Blog, January 7, 2022. https://www.timescale.com/blog/what-the-heck-is-time-series-data-and-why-do-i-need-a-time-series-database-dcf3b1b18563/. 

[9] “Hypertables.” TimescaleDB - Timeseries database for PostgreSQL. Accessed April 20, 2022. https://docs.timescale.com/timescaledb/latest/overview/core-concepts/hypertables-and-chunks/#hypertable-benefits. 

Blog photo by [energepic](https://www.pexels.com/@energepic-com-27411/).
